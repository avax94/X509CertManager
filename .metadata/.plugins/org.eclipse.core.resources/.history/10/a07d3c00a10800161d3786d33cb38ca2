import javax.crypto.Cipher;
import javax.crypto.spec.IvParameterSpec;
import javax.crypto.spec.SecretKeySpec;
import javax.xml.bind.DatatypeConverter;

import java.security.Key;

public class AES {
	private Key key;
	private byte[] encoded;
	private final String ivString = "";
	
	public AES(Key key){
		this.key = key;
		encoded = key.getEncoded();
	}
	
	public AES(){
		//TODO implement generating key on ur own
	}
	
	public String encrypt(String text){
		 try {
	            IvParameterSpec iv = new IvParameterSpec(ivString.getBytes("UTF-8"));
	            SecretKeySpec skeySpec = new SecretKeySpec(encoded, "AES");

	            Cipher cipher = Cipher.getInstance("AES/CBC/PKCS5PADDING");
	            cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);

	            byte[] encrypted = cipher.doFinal(text.getBytes());
	            return DatatypeConverter.printBase64Binary(encrypted);
	        } catch (Exception ex) {
	            ex.printStackTrace();
	        }

	        return null;
	    }
	}
	
}
